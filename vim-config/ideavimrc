let mapleader = " "

"========== General ==========
set expandtab                   " Use soft tabs
set tabstop=2                   " Tab settings
set autoindent
set smarttab                    " Use shiftwidth to tab at line beginning
set shiftwidth=2                " Width of autoindent
set backspace=indent,eol,start  " Let backspace work over anything.
set showmatch                   " Show matching brackets/braces
set mouse=a                     " enable moude in all modes
set incsearch
set clipboard+=unnamed

" Spell checking
set spelllang=en_us
nmap <silent> <leader>sp :set spell!<CR>
map <Leader>z :'<,'>sort<CR>

" UTF-8 all the way
set encoding=utf-8

"========== Keybindings ==========
imap jj          <Esc>
cmap w!!         w !sudo tee > /dev/null %

" File/symbol navigation
nmap <Leader>ff   :action GotoFile<CR>
nmap <Leader>fs   :action GotoSymbol<CR>
nmap <Leader>fc   :action GotoClass<CR>
nmap <Leader>fa   :action GotoAction<CR>

" tab/buffer navigation
nmap <Leader>b   :action RecentFiles<CR>
" move pane to right
" nmap <Leader><S-L>  :action MoveEditorToOppositeTabGroup<CR>
" move pane to left
" map <Leader><S-H>  :action MoveEditorToOppositeTabGroup<CR>
nnoremap <silent> <A-Left> :action MoveEditorToOppositeTabGroup<CR>
nnoremap <silent> <A-Right> :action MoveEditorToOppositeTabGroup<CR>

" run last
nmap <Leader>rl  :action Run<CR>
" run this
nmap <Leader>rt  :action RunClass<CR>
" run failed
nmap <Leader>rf  :action RerunFailedTests<CR>
" debug last
nmap <Leader>dl  :action Debug<CR>
" debug this
nmap <Leader>dt  :action DebugClass<CR>

" git blame
nmap <Leader>gb  :action Annotate<CR>
" git history
nmap <Leader>gh  :action Vcs.ShowTabbedFileHistory<CR>

nmap <Leader>l  :action ReformatCode<CR>
vmap <Leader>l  :action ReformatCode<CR>

" go to current file in file tree
nmap <Leader><F1>  :action ActivateProjectToolWindow<CR>
" go to test file for source (and vice-versa)
nmap <Leader>gt  :action GotoTest<CR>

" ### Refactoring ###
" show intentions
nmap <Leader>i  :action ShowIntentionActions<CR>
" refactor this
nmap <Leader>t   :action Refactorings.QuickListPopupAction<CR>
vmap <Leader>t   :action Refactorings.QuickListPopupAction<CR>
" introduce variable
nmap <Leader>v  :action IntroduceVariable<CR>
vmap <Leader>v  :action IntroduceVariable<CR>
" inline
nmap <Leader>n  :action Inline<CR>
vmap <Leader>n  :action Inline<CR>
" extract method
nmap <Leader>m  :action ExtractMethod<CR>
vmap <Leader>m  :action ExtractMethod<CR>
" override method
nmap <Leader>o  :action OverrideMethods<CR>
" gEnerate
nmap <Leader>e  :action Generate<CR>

" paste the 0 buffer
nnoremap <leader>p "0p
nnoremap <leader>P "0P

" old stuff I don't really use
nmap <Leader>sr :%s/\<<C-r><C-w>\>/

"========== Folding ==========
set foldmethod=indent   "fold based on indent
set foldnestmax=10      "deepest fold is 10 levels
set nofoldenable        "dont fold by default
set foldlevel=1         "this is just what i use

"======== IdeaVim Emulated Plugins =======
set surround
set commentary

